const E=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function a(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(o){if(o.ep)return;o.ep=!0;const n=a(o);fetch(o.href,n)}};E();const h="modulepreload",u={},L="./",i=function(r,a){return!a||a.length===0?r():Promise.all(a.map(t=>{if(t=`${L}${t}`,t in u)return;u[t]=!0;const o=t.endsWith(".css"),n=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${n}`))return;const s=document.createElement("link");if(s.rel=o?"stylesheet":h,o||(s.as="script",s.crossOrigin=""),s.href=t,document.head.appendChild(s),o)return new Promise((m,v)=>{s.addEventListener("load",m),s.addEventListener("error",v)})})).then(()=>r())};class l extends Error{constructor(...r){super(...r);Error.captureStackTrace&&Error.captureStackTrace(this,l),this.name="Warning"}}async function f(e,r,...a){}async function P(e,...r){{let a=e;try{a=new l(e).stack}catch{}console.warn(a,...r),f("W",a,...r)}}async function b(e,...r){let a=e;try{a=new Error(e).stack}catch{}console.error(a,...r),f("E",a,...r)}async function k(){}async function I(){}var O={mywarn:P,myerror:b,recentLogs:k,clearLogs:I};console.log("Loading Router");async function A(e){switch(e){case"Intro":await i(()=>import("./intropage.028ddc93.js"),["assets/intropage.028ddc93.js","assets/abstractpage.653c245a.js"]);break;case"Page404":await i(()=>import("./page404.0a04d3c8.js"),["assets/page404.0a04d3c8.js","assets/abstractpage.653c245a.js"]);break;case"ScanQrPage":await i(()=>import("./scanqr.75c97f8d.js"),["assets/scanqr.75c97f8d.js","assets/abstractpage.653c245a.js","assets/camerainfo.4311a7fd.js"]);break;case"Faqs":await i(()=>import("./faqs.65dd8a0c.js"),["assets/faqs.65dd8a0c.js","assets/abstractpage.653c245a.js"]);break;case"SelectLanguage":await i(()=>import("./i18.a606bd4d.js"),["assets/i18.a606bd4d.js","assets/abstractpage.653c245a.js"]);break;case"Help":await i(()=>import("./help.76d7cb60.js"),["assets/help.76d7cb60.js","assets/abstractpage.653c245a.js"]);break;case"DisplayHcert":await i(()=>import("./hcertpage.251907d0.js"),["assets/hcertpage.251907d0.js","assets/abstractpage.653c245a.js","assets/warning.03c9a936.js","assets/_commonjsHelpers.4e997714.js"]);break;case"DisplayMyHcert":await i(()=>import("./myhcertpage.cdd6fd4f.js"),["assets/myhcertpage.cdd6fd4f.js","assets/abstractpage.653c245a.js","assets/warning.03c9a936.js","assets/_commonjsHelpers.4e997714.js"]);break;case"MicroWallet":await i(()=>import("./microwallet.1e54c8a1.js"),["assets/microwallet.1e54c8a1.js","assets/abstractpage.653c245a.js"]);break;case"DisplayQR":await i(()=>import("./displayqr.d202a3b3.js"),["assets/displayqr.d202a3b3.js","assets/abstractpage.653c245a.js","assets/_commonjsHelpers.4e997714.js"]);break;case"SelectCamera":await i(()=>import("./selectcamera.3453aad2.js"),["assets/selectcamera.3453aad2.js","assets/abstractpage.653c245a.js","assets/camerainfo.4311a7fd.js"]);break;case"TermsOfUse":await i(()=>import("./termsofuse.9e76a91f.js"),["assets/termsofuse.9e76a91f.js","assets/abstractpage.653c245a.js","assets/legal.ec5a9509.js"]);break;case"PrivacyPolicy":await i(()=>import("./privacypolicy.6a409667.js"),["assets/privacypolicy.6a409667.js","assets/abstractpage.653c245a.js","assets/legal.ec5a9509.js"]);break;case"SWNotify":await i(()=>import("./swnotify.fc604bc6.js"),["assets/swnotify.fc604bc6.js","assets/abstractpage.653c245a.js"]);break}}var _="Intro",p="Page404",c=null;function D(e,r){c||(c=new Map),c.set(e,r)}async function w(){document.getElementById("SplashScreen").style.display="none",await d(_)}window.goHome=w;async function d(e,r){console.log("Inside gotoPage:",e),await A(e),c.get(e)===void 0&&(console.error("Target page does not exist: ",e),r=e,e=p),window.history.pushState({pageName:e,pageData:r},`${e}`),await y(e,r,!1)}window.gotoPage=d;async function y(e,r,a){try{for(let[o,n]of c)n.domElem.style.display="none",o!==e&&n.exit&&await n.exit()}catch(o){console.error("Trying to call exit",o);return}let t=c.get(e);t===void 0&&(r=e,t=c.get(p)),window.scrollTo(0,0);try{t.enter?await t.enter(r,a):t.style.display="block"}catch(o){console.error("Calling enter()",o);return}}window.addEventListener("popstate",async function(e){var r=_,a=void 0,t=e.state;t!=null&&(r=t.pageName,a=t.pageData),await y(r,a,!0)});async function T(){let e=await fetch("/version.txt");if(!e.ok){O.myerror("fetch for version.txt failed");return}window.appVersion=await e.text(),window.localStorage.setItem("VERSION",appVersion),console.log("Version:",appVersion)}window.addEventListener("DOMContentLoaded",async e=>{T(),w()});window.addEventListener("load",async e=>{if(console.log("In production"),"serviceWorker"in navigator){const{Workbox:r}=await i(()=>import("./workbox-window.prod.es5.a2fa118e.js"),[]),a=new r("./sw.js");a.addEventListener("message",t=>{if(t.data.type==="CACHE_UPDATED"){const{updatedURL:o}=t.data.payload;console.log(`A newer version of ${o} is available!`)}}),a.addEventListener("activated",async t=>{t.isUpdate?(console.log("Service worker has been updated.",t),await g(!0)):(console.log("Service worker has been installed for the first time.",t),await g(!1))}),a.addEventListener("waiting",t=>{console.log("A new service worker has installed, but it can't activateuntil all tabs running the current version have fully unloaded.")}),a.register()}});async function g(e){console.log("Performing Upgrade"),d("SWNotify",{isUpdate:e})}export{d as a,w as g,O as l,D as r};
