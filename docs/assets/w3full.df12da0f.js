const E=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function a(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=a(o);fetch(o.href,i)}};E();const h="modulepreload",u={},v="./",s=function(t,a){return!a||a.length===0?t():Promise.all(a.map(r=>{if(r=`${v}${r}`,r in u)return;u[r]=!0;const o=r.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const n=document.createElement("link");if(n.rel=o?"stylesheet":h,o||(n.as="script",n.crossOrigin=""),n.href=r,document.head.appendChild(n),o)return new Promise((w,y)=>{n.addEventListener("load",w),n.addEventListener("error",y)})})).then(()=>t())};var c={MAX_LOG_ENTRIES:100,logItems:[],next_item:0,mylog_entry(e,t,a){var r={timestamp:Date.now(),level:e,desc:t,item:a};if(this.logItems.length<this.MAX_LOG_ENTRIES){this.logItems.push(r);return}this.logItems[this.next_item]=r,this.next_item=this.next_item+1,this.next_item==this.MAX_LOG_ENTRIES&&(this.next_item=0)},log(e){{var t=Array.prototype.slice.call(arguments,1);console.log(e,t),this.mylog_entry("N",e,t)}},warn(e,...t){{let a=e;try{a=new Warning(e).stack}catch{}console.warn(a,...t),this.mylog_entry("W",a,...t)}},error(e,...t){let a=e;try{a=new Error(e).stack}catch{}console.error(a,...t),this.mylog_entry("E",a,...t)},olderror(e){var t=Array.prototype.slice.call(arguments,1);console.error(e,t),this.mylog_entry("E",e,t)},num_items(){return this.logItems.length<this.MAX_LOG_ENTRIES?this.logItems.length:this.MAX_LOG_ENTRIES},item(e){if(!(e>=this.num_items())){if(this.logItems.length<this.MAX_LOG_ENTRIES)return this.logItems[e];{let t=(this.next_item+e)%this.MAX_LOG_ENTRIES;return this.logItems[t]}}}};async function P(e){switch(e){case"ScanQrNativePage":await s(()=>import("./ScanQrNativePage.c25b0152.js"),["assets/ScanQrNativePage.c25b0152.js","assets/AbstractPage.d25cfa01.js","assets/camerainfo.4311a7fd.js"]);break;case"IntroPage":await s(()=>import("./IntroPage.19621ee3.js"),["assets/IntroPage.19621ee3.js","assets/AbstractPage.d25cfa01.js"]);break;case"Page404":await s(()=>import("./Page404.c5a60672.js"),["assets/Page404.c5a60672.js","assets/AbstractPage.d25cfa01.js"]);break;case"ScanQrPage":await s(()=>import("./ScanQrPage.7368a7ff.js"),["assets/ScanQrPage.7368a7ff.js","assets/AbstractPage.d25cfa01.js","assets/camerainfo.4311a7fd.js"]);break;case"Faqs":await s(()=>import("./Faqs.3d65fccb.js"),["assets/Faqs.3d65fccb.js","assets/AbstractPage.d25cfa01.js"]);break;case"SelectLanguage":await s(()=>import("./SelectLanguage.01caebf2.js"),["assets/SelectLanguage.01caebf2.js","assets/AbstractPage.d25cfa01.js"]);break;case"Help":await s(()=>import("./Help.b8a14f67.js"),["assets/Help.b8a14f67.js","assets/AbstractPage.d25cfa01.js"]);break;case"DisplayHcert":await s(()=>import("./DisplayHcert.c8a59b74.js"),["assets/DisplayHcert.c8a59b74.js","assets/AbstractPage.d25cfa01.js","assets/warning.877851ea.js","assets/_commonjsHelpers.4e997714.js"]);break;case"DisplayMyHcert":await s(()=>import("./DisplayMyHcert.c568f588.js"),["assets/DisplayMyHcert.c568f588.js","assets/AbstractPage.d25cfa01.js","assets/warning.877851ea.js","assets/_commonjsHelpers.4e997714.js"]);break;case"MicroWallet":await s(()=>import("./MicroWallet.23277418.js"),["assets/MicroWallet.23277418.js","assets/AbstractPage.d25cfa01.js"]);break;case"DisplayQR":await s(()=>import("./DisplayQR.e3694f14.js"),["assets/DisplayQR.e3694f14.js","assets/AbstractPage.d25cfa01.js","assets/_commonjsHelpers.4e997714.js"]);break;case"SelectCamera":await s(()=>import("./SelectCamera.3dce181e.js"),["assets/SelectCamera.3dce181e.js","assets/AbstractPage.d25cfa01.js","assets/camerainfo.4311a7fd.js"]);break;case"TermsOfUse":await s(()=>import("./TermsOfUse.74d9eec9.js"),["assets/TermsOfUse.74d9eec9.js","assets/AbstractPage.d25cfa01.js","assets/legal.ec5a9509.js"]);break;case"PrivacyPolicy":await s(()=>import("./PrivacyPolicy.c40b221b.js"),["assets/PrivacyPolicy.c40b221b.js","assets/AbstractPage.d25cfa01.js","assets/legal.ec5a9509.js"]);break;case"SWNotify":await s(()=>import("./SWNotify.99f6cc54.js"),["assets/SWNotify.99f6cc54.js","assets/AbstractPage.d25cfa01.js"]);break;case"LogsPage":await s(()=>import("./LogsPage.29c20b66.js"),["assets/LogsPage.29c20b66.js","assets/AbstractPage.d25cfa01.js"]);break}}var _=window.homePage;if(!_)throw"No homePage was set.";var f="Page404",l=null;function I(e,t){l||(l=new Map),l.set(e,t)}async function g(){document.getElementById("SplashScreen").style.display="none",_!=null&&await d(_)}window.goHome=g;async function d(e,t){console.log("Inside gotoPage:",e),await P(e),l.get(e)===void 0&&(c.error("Target page does not exist: ",e),t=e,e=f),window.history.pushState({pageName:e,pageData:t},`${e}`),await m(e,t,!1)}window.gotoPage=d;async function m(e,t,a){try{for(let[o,i]of l)i.domElem.style.display="none",o!==e&&i.exit&&await i.exit()}catch(o){c.error("Trying to call exit",o);return}let r=l.get(e);r===void 0&&(t=e,r=l.get(f)),window.scrollTo(0,0);try{r.enter?await r.enter(t,a):r.style.display="block"}catch(o){c.error("Calling enter()",o);return}}window.addEventListener("popstate",async function(e){var t=_,a=void 0,r=e.state;r!=null&&(t=r.pageName,a=r.pageData),await m(t,a,!0)});async function L(){let e=await fetch("/version.txt");if(!e.ok){c.error("fetch for version.txt failed");return}window.appVersion=await e.text(),window.localStorage.setItem("VERSION",appVersion),console.log("Version:",appVersion)}window.addEventListener("DOMContentLoaded",async e=>{L(),g()});window.addEventListener("load",async e=>{if(console.log("In production"),"serviceWorker"in navigator){const{Workbox:t}=await s(()=>import("./workbox-window.prod.es5.a2fa118e.js"),[]),a=new t("./sw.js");a.addEventListener("message",r=>{if(r.data.type==="CACHE_UPDATED"){const{updatedURL:o}=r.data.payload;console.log(`A newer version of ${o} is available!`)}}),a.addEventListener("activated",async r=>{r.isUpdate?(console.log("Service worker has been updated.",r),await p(!0)):(console.log("Service worker has been installed for the first time.",r),await p(!1))}),a.addEventListener("waiting",r=>{console.log("A new service worker has installed, but it can't activateuntil all tabs running the current version have fully unloaded.")}),a.register()}});async function p(e){console.log("Performing Upgrade"),d("SWNotify",{isUpdate:e})}export{d as a,g,c as l,I as r};
